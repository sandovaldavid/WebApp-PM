<!-- Navigation Sidebar usando solo Tailwind CSS -->
<div class="flex flex-col gap-1 py-1">
    <!-- Dashboard y Elementos Principales -->
    <div class="mb-3 md:mb-4">
        <div class="px-4 py-2 text-xs font-semibold uppercase tracking-wider text-opacity-50 text-white">Principal</div>

        <!-- Dashboard -->
        <a href="{% url 'dashboard:panel_control' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.url_name == 'panel_control' and request.resolver_match.app_name == 'dashboard' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-gauge-high text-sm"></i>
            </div>
            <span>Dashboard</span>
        </a>

        <!-- Gestión de Proyectos -->
        <a href="{% url 'gestion_proyectos:index' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'gestion_proyectos' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-briefcase text-sm"></i>
            </div>
            <span>Gestión de Proyectos</span>
        </a>

        <!-- Gestión de Tareas Dropdown -->
        <div x-data="{ open: false }" class="relative mb-1">
            <!-- Dropdown Button -->
            <button @click="open = !open" 
                    class="flex items-center justify-between w-full px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200
                           {% if 'gestion_tareas' in request.resolver_match.app_name %} 
                           bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                           {% else %} 
                           text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                           {% endif %}">
                <div class="flex items-center">
                    <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                        <i class="fas fa-tasks text-sm"></i>
                    </div>
                    <span>Gestión de Tareas</span>
                </div>
                <i class="fas fa-chevron-right text-xs transition-transform duration-200" :class="{ 'transform rotate-90': open }"></i>
            </button>

            <!-- Dropdown Menu -->
            <div x-show="open" 
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="opacity-0 max-h-0"
                 x-transition:enter-end="opacity-100 max-h-screen"
                 x-transition:leave="transition ease-in duration-200"
                 x-transition:leave-start="opacity-100 max-h-screen"
                 x-transition:leave-end="opacity-0 max-h-0"
                 class="pl-10 mt-1 flex flex-col gap-0.5 overflow-hidden">

                <!-- Tareas -->
                <a href="{% url 'gestion_tareas:index' %}"
                   class="flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200
                          {% if request.resolver_match.url_name == 'index' and request.resolver_match.app_name == 'gestion_tareas' %} 
                          bg-blue-600 bg-opacity-40 text-white 
                          {% else %} 
                          text-white text-opacity-60 hover:bg-white hover:bg-opacity-5 hover:text-white 
                          {% endif %}">
                    <i class="fas fa-list-check text-sm opacity-80 mr-3"></i>
                    <span>Tareas</span>
                </a>

                <!-- Tareas Programadas -->
                <a href="{% url 'gestion_tareas:tareas_programadas' %}"
                   class="flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200
                          {% if request.resolver_match.url_name == 'tareas_programadas' %} 
                          bg-blue-600 bg-opacity-40 text-white 
                          {% else %} 
                          text-white text-opacity-60 hover:bg-white hover:bg-opacity-5 hover:text-white 
                          {% endif %}">
                    <i class="fas fa-calendar-check text-sm opacity-80 mr-3"></i>
                    <span>Tareas Programadas</span>
                </a>
                
                <!-- Configuración de Tareas -->
                <a href="{% url 'gestion_tareas:configuracion_tareas' %}"
                   class="flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200
                          {% if request.resolver_match.url_name == 'configuracion_tareas' %} 
                          bg-blue-600 bg-opacity-40 text-white 
                          {% else %} 
                          text-white text-opacity-60 hover:bg-white hover:bg-opacity-5 hover:text-white 
                          {% endif %}">
                    <i class="fas fa-cog text-sm opacity-80 mr-3"></i>
                    <span>Configuración</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Gestión de Equipo y Recursos -->
    <div class="mb-3 md:mb-4">
        <div class="px-4 py-2 text-xs font-semibold uppercase tracking-wider text-opacity-50 text-white">Equipos y recursos</div>

        <!-- Gestión de Equipos -->
        <a href="{% url 'gestion_equipos:index' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'gestion_equipos' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-users-gear text-sm"></i>
            </div>
            <span>Gestión de Equipos</span>
        </a>

        <!-- Gestión de Recursos -->
        <a href="{% url 'gestionRecursos:lista_recursos' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'gestionRecursos' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-cube text-sm"></i>
            </div>
            <span>Gestión de Recursos</span>
        </a>
        
        <!-- Usuarios -->
        <a href="{% url 'gestionUsuarios:lista_usuarios' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'gestionUsuarios' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-users text-sm"></i>
            </div>
            <span>Usuarios</span>
        </a>
    </div>

    <!-- Análisis y Monitoreo -->
    <div class="mb-3 md:mb-4">
        <div class="px-4 py-2 text-xs font-semibold uppercase tracking-wider text-opacity-50 text-white">Análisis</div>

        <!-- Alertas y Notificaciones -->
        <a href="{% url 'notificaciones:index' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'notificaciones' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-bell text-sm"></i>
            </div>
            <span>Notificaciones</span>
        </a>

        <!-- Reportes -->
        <a href="{% url 'reportes:index' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'reportes' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-chart-line text-sm"></i>
            </div>
            <span>Reportes</span>
        </a>

        <!-- Auditoría -->
        <a href="{% url 'auditoria:registro_actividades' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'auditoria' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fa-solid fa-shield text-sm"></i>
            </div>
            <span>Auditoría</span>
        </a>
    </div>

    <!-- Herramientas y Configuración -->
    <div class="mb-3 md:mb-4">
        <div class="px-4 py-2 text-xs font-semibold uppercase tracking-wider text-opacity-50 text-white">Herramientas</div>

        <!-- Integración -->
        <a href="{% url 'integracion:index' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'integracion' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-puzzle-piece text-sm"></i>
            </div>
            <span>Integración</span>
        </a>

        <!-- Redes Neuronales -->
        <a href="{% url 'redes_neuronales:estimacion_avanzada' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'redes_neuronales' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fa-solid fa-brain text-sm"></i>
            </div>
            <span>Redes Neuronales</span>
        </a>

        <!-- Configuración -->
        <a href="{% url 'gestionUsuarios:configuracion' %}"
           class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 mb-1
                  {% if request.resolver_match.app_name == 'settings' %} 
                  bg-blue-600 bg-opacity-60 text-white font-medium shadow-sm 
                  {% else %} 
                  text-white text-opacity-75 hover:bg-white hover:bg-opacity-10 hover:text-white 
                  {% endif %}">
            <div class="flex items-center justify-center w-7 h-7 rounded-md bg-white bg-opacity-10 mr-3 text-white">
                <i class="fas fa-gear text-sm"></i>
            </div>
            <span>Configuración</span>
        </a>
    </div>
    
    <!-- Espacio adicional al final para asegurar visibilidad completa en dispositivos móviles -->
    <div class="h-4 md:hidden"></div>
</div>